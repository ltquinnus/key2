<div class="row">
  <div class="large-10 large-centered columns">
    <div class="large-9 large-centered columns alignCenterNoPadding">
      <h3>Dynamic Key Search</h3>
    </div>
    <%= search_form_for @q, url: complex_keys_path, method: :post do |f| %>
        <div class="panel callout radius">
          <%= f.condition_fields do |c| %>
            <div class="row">
                <%= c.attribute_fields do |a| %>
                  <div class="large-4 columns">
                    <%= a.attribute_select  %>
                  </div>
                <% end %>
              <div class="large-4 columns">
                <%= c.predicate_select %>
              </div>
              <%= c.value_fields do |v| %>
                <div class="large-4 columns">
                  <%= v.text_field :value %>
                </div>

              <% end %>
            </div> 
            <% end %>

          <div class="row">
            <div class="large-2 columns">
              <%= f.submit "Find", class: "button tiny radius" %>
            </div>
            <div class="large-1 large-offset-2 columns">
              <%= label_tag('Show:', nil, class: 'right') %>
            </div>
            <div class="large-1 columns end">
              <%= text_field_tag "Number", params[:Number] %>
            </div>

           
          </div>
        </div>
      
      
    <% end %>
  </div>
</div>

<div class="row">
  <div class="large-12 large-centered columnms">
    <table class="large-10 large-centered columns">
      <thead>
        <tr class="tableHeader">
          <th><%= sort_link(@q, :Company, "Co.") %></th>
          <th><%= sort_link(@q, :Description) %></th>
          <th><%= sort_link(@q, :number) %></th>
          <th><%= sort_link(@q, :Checkout) %></th>
          <th><%= sort_link(@q, :Checkin) %></th>
          <th><%= sort_link(@q, :created_at) %></th>
          <th><%= sort_link(@q, :updated_at) %></th>
        </tr>
      </thead>

      <tbody>
        <% @patients.each do |patient| %>
          <tr>
            <td><%= key.Company %></td>
            <td><%= key.Description %></td>
            <td><%= key.number %></td>
            <td><%= key.Checkout %></td>
            <td><%= key.Checkin %></td>
            <td><%= key.created_at %></td>
            <td><%= key.updated_at%></td>
                   </tr>
        <% end %>
          <tr>
            <td colspan="5" class="tableFooter">
              <%= paginate @keys %>
            </td>
            <td colspan="3" class="tableFooter">
              <%= @searchNumber %> from <%= @totNumber %> total
            </td>
          </tr>
      </tbody>
    </table>
  </div>
</div>

